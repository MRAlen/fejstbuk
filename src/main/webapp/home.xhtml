<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
        >

<ui:composition template="/layout/template.xhtml">
    <ui:define name="pageTitle">Home</ui:define>
    <ui:define name="sidebar">
        <ui:include src="/layout/includes/profile.xhtml" />
    </ui:define>
    <ui:define name="content">
        <h1>News feed</h1>
        <h:panelGroup id="news-feed">
        <ui:include src="layout/includes/new-post.xhtml" />
        <ul class="newsfeed">
            <ui:repeat value="#{newsFeed}" var="status" >
            <li class="article">
                <a class="photo" href="/profile-friend.html">
                    <img src="/_common/images/tmp/avatar-5-s.jpg" alt="Bridget von Hammersmark" />
                </a>
                <div class="event">
                    <ui:fragment rendered="#{currentUser.id ne status.user.id}">
                        <h:link styleClass="user" outcome="/profile-friend.xhtml">
                            <f:param name="userId" value="#{status.user.id}" />
                            <h:outputText value="#{status.user.title}" />
                        </h:link> posted a  message on <h:link styleClass="user" outcome="/profile-friend.xhtml">
                                                            <f:param name="userId" value="#{currentUser.id}" />
                                                            <h:outputText value="#{currentUser.title}" />
                                                        </h:link>'s wall:
                    </ui:fragment>
                    <ui:fragment rendered="#{currentUser.id eq status.user.id}">
                        <h:link styleClass="user" outcome="/profile-friend.xhtml">
                            <f:param name="userId" value="#{status.user.id}" />
                            <h:outputText value="#{status.user.title}" />
                        </h:link> posted a  message on wall:
                    </ui:fragment>
                    <a class="ajax delete" href="/_ajax_delete.html">Delete</a>
                </div>
                <div class="message">
                    <div class="cms">#{status.status}</div>
                </div>
                <ul class="options">
                     <li class="option timestamp"><h:outputText value="#{newsAction.getTimeDiff(status.timestamp)}">
                        <f:convertDateTime pattern="H:mm:ss 'ago'" />
                    </h:outputText>  </li>
                    <li class="option like"><a href="#">Like</a></li>
                    <li class="option comment"><a class="ajax" post-id="#{status.id}" href="/_ajax_comment.html">Comment</a></li>
                </ul>
            </li>
            </ui:repeat>
        </ul>
        </h:panelGroup>
    </ui:define>
</ui:composition>
</html>
